<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>HTML5 Geolocation</title>

<script src="http://maps.googleapis.com/maps/api/js"></script>

</head>
<body>

<p>Click the button to get your coordiantes</p>
<p><button onclick="getLocation();">Try It</button></p>
<div id="demo"></div>
<div id="mapHolder"></div>


<script type="text/javascript">
	
	var x = document.getElementById("demo");
	function getLocation(){
		if(navigator.geolocation){
			navigator.geolocation.getCurrentPosition(showPosition);
		}else{
			x.innerHTML = "Geolocation is not supported by this browser.";
		}
	}

	function showPosition(position){
		x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
	}

function launchMap(){

	var position = navigator.geolocation.getCurrentPosition;
	var latitude = position.coords.latitude;
	var longitude = position.coords.longitude;
	var map = new google.maps.Map(document.getElementById("mapHolder"),{
		zoom: 15,
		center: {lat: latitude, lng: longitude}
	});
	var mapMarker = new google.maps.Marker({
		position: {lat: latitude, lng: longitude},
		map: map
	});

}
	

google.maps.event.addDomListener(window,'load',launchMap);

</script>


</body>
</html>